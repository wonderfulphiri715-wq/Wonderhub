<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WonderHub | Stream, Download & Connect</title>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>

  <!-- Firebase Config -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBOjzLPsw7wURg6b2YI3AMrnndl3AmjUFI",
      authDomain: "wonderhub-a1366.firebaseapp.com",
      databaseURL: "https://wonderhub-a1366-default-rtdb.firebaseio.com/",
      projectId: "wonderhub-a1366",
      storageBucket: "wonderhub-a1366.firebasestorage.app",
      messagingSenderId: "83827278829",
      appId: "1:83827278829:web:2a786ddad53452fffd9de4"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const auth = firebase.auth();
    const storage = firebase.storage();
  </script>

  <style>
    body { font-family: sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
    header, footer { background: #2c5364; color: white; text-align: center; padding: 1em; }
    nav { background: #333; display: flex; justify-content: center; flex-wrap: wrap; }
    nav button { background: none; border: none; color: white; padding: 1em; cursor: pointer; }
    .section { padding: 2em; text-align: center; }
    .box { background: white; margin: 2em auto; padding: 1em; width: 80%; max-width: 600px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    textarea, input[type="email"], input[type="password"], input[type="file"] { width: 100%; margin-bottom: 0.5em; padding: 0.5em; }
    button { background: #2c5364; color: white; border: none; padding: 0.5em 1em; cursor: pointer; border-radius: 4px; }
    ul { list-style: none; padding: 0; }
    ul li { background: #eee; margin: 0.5em 0; padding: 0.5em; border-radius: 4px; }
  </style>
</head>
<body>

  <header>
    <h1>WonderHub</h1>
    <p>Stream. Download. Connect.</p>
  </header>

  <nav>
    <button onclick="navigate('auth')">Login</button>
    <button onclick="navigate('chat')">Chat</button>
    <button onclick="navigate('music')">Music Comments</button>
    <button onclick="navigate('upload')">Upload</button>
  </nav><div class="box" id="auth">
    <h3>Login or Signup</h3>
    <input type="email" id="authEmail" placeholder="Email"><br>
    <input type="password" id="authPassword" placeholder="Password"><br>
    <button onclick="signup()">Sign Up</button>
    <button onclick="login()">Log In</button>
    <p id="authStatus"></p>
  </div>

  <div class="box" id="chat">
    <h3>Chat with the Community</h3>
    <textarea id="chatInput" placeholder="Type your message..."></textarea>
    <button onclick="submitChat()">Send</button>
    <ul id="chatMessages"></ul>
  </div>

  <div class="box" id="music">
    <h3>Leave a Comment on Music</h3>
    <textarea id="musicComment" placeholder="Type your comment..."></textarea>
    <button onclick="submitComment()">Submit</button>
    <ul id="musicComments"></ul>
  </div>

  <div class="box" id="upload">
    <h3>Upload Media</h3>
    <input type="file" id="fileInput">
    <button onclick="uploadFile()">Upload</button>
    <p id="uploadStatus"></p>
  </div><script>
    function navigate(sectionId) {
      document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
    }

    // 🔐 Authentication
    function signup() {
      const email = document.getElementById('authEmail').value;
      const password = document.getElementById('authPassword').value;
      auth.createUserWithEmailAndPassword(email, password)
        .then(() => document.getElementById('authStatus').textContent = "Signup successful!")
        .catch(err => document.getElementById('authStatus').textContent = err.message);
    }

    function login() {
      const email = document.getElementById('authEmail').value;
      const password = document.getElementById('authPassword').value;
      auth.signInWithEmailAndPassword(email, password)
        .then(() => document.getElementById('authStatus').textContent = "Login successful!")
        .catch(err => document.getElementById('authStatus').textContent = err.message);
    }

    // 💬 Chat
    function submitChat() {
      const message = document.getElementById('chatInput').value.trim();
      if (message === '') return;
      db.ref('chat').push({
        user: 'Anonymous',
        text: message,
        timestamp: Date.now()
      });
      document.getElementById('chatInput').value = '';
    }

    db.ref('chat').on('child_added', function(snapshot) {
      const data = snapshot.val();
      const li = document.createElement('li');
      li.textContent = `${data.user}: ${data.text}`;
      document.getElementById('chatMessages').appendChild(li);
    });

    // 💬 Music Comments
    function submitComment() {
      const comment = document.getElementById('musicComment').value.trim();
      if (comment === '') return;
      db.ref('comments/music').push({
        user: 'Anonymous',
        text: comment,
        timestamp: Date.now()
      });
      document.getElementById('musicComment').value = '';
    }

    db.ref('comments/music').on('child_added', function(snapshot) {
      const data = snapshot.val();
      const li = document.createElement('li');
      li.textContent = `${data.user}: ${data.text}`;
      document.getElementById('musicComments').appendChild(li);
    });

    // 📁 Upload
    function uploadFile() {
      const file = document.getElementById('fileInput').files[0];
      if (!file) return;

      const ref = storage.ref('uploads/' + file.name);
      ref.put(file).then(() => {
        document.getElementById('uploadStatus').textContent = "Upload successful!";
      }).catch(err => {
        document.getElementById('uploadStatus').textContent = err.message;
      });
    }
  </script>

</body>
</html>